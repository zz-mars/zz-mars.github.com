---
layout: post
title: C++重载、覆盖、隐藏
description: 
category: "C++"
tags: []
---
今天一面腾讯被问到C++的虚函数，作为一个C++盲我表示很蛋疼。
回到实验室刚好又被同学问到一个相关的问题，于是找了点资料看了下，在这里我试着总结一下对这几个概念的理解。

1.重载：首先重载的概念是，相同的函数名，但是参数类型或者个数不同。
先看下C++重载的例子：
----------------ol.cc----------------
#include <iostream>
using namespace std;
void foo(int i) {}
void foo(float f) {}
void foo(double d) {}
int main()
{
	int i = 0;
	float f = 0.00;
	double d = 0.00;
	foo(i);
	foo(f);
	foo(d);
	return 0;
}

使用g++ -S ol.cc生成ol.s
----------------ol.s----------------
	.file	"ol.cc"
	.local	_ZStL8__ioinit
	.comm	_ZStL8__ioinit,1,1
	.text
	.globl	_Z3fooi
	<br>.type	_Z3fooi, @function</br>
_Z3fooi:
.LFB966:
	.cfi_startproc
	pushl	%ebp
	.cfi_def_cfa_offset 8
	.cfi_offset 5, -8
	movl	%esp, %ebp
	.cfi_def_cfa_register 5
	popl	%ebp
	.cfi_def_cfa 4, 4
	.cfi_restore 5
	ret
	.cfi_endproc
.LFE966:
	.size	_Z3fooi, .-_Z3fooi
	.globl	_Z3foof
	<br>.type	_Z3foof, @function</br>
_Z3foof:
.LFB967:
	.cfi_startproc
	pushl	%ebp
	.cfi_def_cfa_offset 8
	.cfi_offset 5, -8
	movl	%esp, %ebp
	.cfi_def_cfa_register 5
	popl	%ebp
	.cfi_def_cfa 4, 4
	.cfi_restore 5
	ret
	.cfi_endproc
.LFE967:
	.size	_Z3foof, .-_Z3foof
	.globl	_Z3food
	<br>.type	_Z3food, @function</br>
_Z3food:
.LFB968:
	.cfi_startproc
	pushl	%ebp
	.cfi_def_cfa_offset 8
	.cfi_offset 5, -8
	movl	%esp, %ebp
	.cfi_def_cfa_register 5
	subl	$8, %esp
	movl	8(%ebp), %eax
	movl	%eax, -8(%ebp)
	movl	12(%ebp), %eax
	movl	%eax, -4(%ebp)
	leave
	.cfi_restore 5
	.cfi_def_cfa 4, 4
	ret
	.cfi_endproc
.LFE968:
	.size	_Z3food, .-_Z3food
	.globl	main
	.type	main, @function
main:
.LFB969:
	.cfi_startproc
	pushl	%ebp
	.cfi_def_cfa_offset 8
	.cfi_offset 5, -8
	movl	%esp, %ebp
	.cfi_def_cfa_register 5
	andl	$-8, %esp
	subl	$24, %esp
	movl	$0, 20(%esp)
	movl	$0x00000000, %eax
	movl	%eax, 16(%esp)
	fldz
	fstpl	8(%esp)
	movl	20(%esp), %eax
	movl	%eax, (%esp)
	<br>call	_Z3fooi</br>
	movl	16(%esp), %eax
	movl	%eax, (%esp)
	<br>call	_Z3foof</br>
	fldl	8(%esp)
	fstpl	(%esp)
	<br>call	_Z3food</br>
	movl	$0, %eax
	leave
	.cfi_restore 5
	.cfi_def_cfa 4, 4
	ret
	.cfi_endproc
.LFE969:
	.size	main, .-main
	.type	_Z41__static_initialization_and_destruction_0ii, @function
_Z41__static_initialization_and_destruction_0ii:

C++的编译器在处理这类函数的时候会生成
C是不支持重载的
{% include JB/setup %}
